<!doctype html><html lang=en-us><head><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="More Formal Derivation of Support Formula In my notes on the support formula I used some fairly informal reasoning to derive the formula.
Here are my thoughts on a somewhat more formal derivation."><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.131.0"><title>- Social Protocols</title>
<meta property="og:title" content=" - Social Protocols"><link rel=stylesheet href=/css/fonts.css media=all><link rel=stylesheet href=/css/main.css media=all><script data-goatcounter=https://socialprotocols.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo style=margin-right:10px><img src=/images/logo.svg width=50 height=50 alt=Logo>
</a><a href=/ class=nav-title>Social Protocols</a><ul class=nav-links><li><a href=/articles>Articles</a></li><li><a href=/#projects>Projects</a></li><li><a href=/research-notes>Research Notes</a></li><li><a href=/resources>Resources</a></li></ul></nav></header><main class=content role=main><article class=article><h1 class=article-title></h1><div class=article-content><h1 id=more-formal-derivation-of-support-formula>More Formal Derivation of Support Formula</h1><p>In my notes on the <a href=2024-03-01-support-formula.md>support formula</a> I used some fairly informal reasoning to derive the formula.</p><p>Here are my thoughts on a somewhat more formal derivation.</p><h2 id=the-causal-model>The Causal Model</h2><p>First, we start with laying out our causal model as a graph. Consider a post A with a note B, which in turn has note C. Let&rsquo;s define the following variables:</p><ul><li><p><strong>V</strong>: User has considered A</p></li><li><p><strong>W</strong>: User has considered B</p></li><li><p><strong>X</strong>: User has considered C</p></li><li><p><strong>Y</strong>: The belief underlying A</p></li><li><p><strong>Z</strong>: The belief underlying B</p></li><li><p><strong>A</strong>: User votes on A</p></li><li><p><strong>B</strong>: User votes on B</p></li></ul><pre tabindex=0><code class=language-mermaid data-lang=mermaid>graph TD
    %%{init: {&#39;theme&#39;: &#39;neutral&#39; } }%%
    W --&gt; Z
    V --&gt; Y
    Z --&gt;|&#34;r&#34;| B
    Z --&gt;|&#34;λr&#34;| Y
    Y --&gt;|&#34;q&#34;| A
    X --&gt; Z
    classDef fontstyle font-family:Arial, sans-serif;
    linkStyle default stroke:#333,stroke-width:2px,fill:none;
</code></pre><p>Y and Z are latent variables. We can&rsquo;t measure them but we need to assume they exist because there is not a direct causal between the variables we <em>can</em> measure. For example votes on B do not not cause votes on A. Rather, <em>considering</em> B (a event we designated W) causes a change in some underlying belief Z, which causes upvotes on B, and also changes to underlying belief Y, which in term causes upvotes to A.</p><p>This underlying belief in Z may have different effects on B and Y. For example, the note might be very witty, causing users to believe that Z <em>this is witty</em>, which causes them to be upvote B. But Z might not have any effect at all on Y, and thus no effect on upvotes on A.</p><p>Now our goal is to estimate the probability that a user upvotes A given they consider C, assuming we don&rsquo;t (yet) have have data for users that voted on A after considering C. What we have instead is data for users who voted on A before and after considering B , and who voted on B before and after considering C. In other words, we want to estimate the indirect effect of C on A based on the effect of C on B and the effect of B on A.</p><p>To work this out, let&rsquo;s walk step by step through what we think happens as users successively consider posts A, B, and then C.</p><ul><li><p>First, some users consider post A (V=1), which causes, for these users:</p><ul><li>The probability of believing Y (the belief underyling A) to move from y0 to y1, which causes<ul><li>A (probability of upvoting A) to move from a0 to a1</li></ul></li></ul></li><li><p>Next, some users consider post B (W=1), which causes, for these users:</p><ul><li>The probability of believing Z (the belief underlying B) to move from z1 to z2, which causes<ul><li>B (probability of upvoting B) to move from b0 to b1</li><li>Y to move from y1 to y2, which cuases<ul><li>A to move from a1 to a2</li></ul></li></ul></li></ul></li><li><p>Finally, some users who considered post B also consider post C (X=1), which causes, for these users:</p><ul><li>Z to move from z2 to z3<ul><li>B to move from b1 to b2</li><li>Y to move fro y2 to y3</li><li>A to move from a2 to a3</li></ul></li></ul></li></ul><p>Some of these variables we can measure. Specifically, a1 and a2 (probability of upvoting A before/after considering B), and b1 and b2 (probability of upvoting B before/after considering C).</p><p>Now, the relationships between all these variables is linear. Specifically, any increase in one variable causes a proportional change to all downstream variables. I discuss this linear relationship in my <a href=2024-03-01-support-formula.md>previous note</a> and my post on <a href=https://jonathanwarden.com/bayesian-argumentation/>Bayesian Argumentation</a>.</p><p>So when Y moves from y0 to y1, increasing by $<code>y1-y0</code>$, A will increase by the same amount times some constant $q$. So $<code>(a1-a0) = q*(y1-y0)</code>$. Likewise, when Z increases by $<code>z2 - z1</code>$, B will increase by $<code>(b1-b0)=r*(z2-z1)$</code>, and Y will increase by $<code>(y2-y1) =λr*(z2-z1)</code>$.</p><p>So we have:</p><p>$$
\begin{aligned}
b1 - b0 &= r(z1 - z0) \
y2 - y1 &= rλ(z1 - z0) \
a2 - a1 &= q(y2 - y1) \
&= qrλ(z1 - z0) \
&= qλ(b1 - b0) \
&= qλ(b1 - b0) \
qλ &= \frac{a2 - a1}{b1 - b0}
\end{aligned}
$$</p><p>Similarly we can show:</p><p>$$
qλ = \frac{a3 - a1}{b2 - b0}
$$</p><p>So</p><p>$$
\frac{a2 - a1}{b1 - b0} = \frac{a3 - a1}{b2 - b0}
$$</p><p>And so finally:</p><p>$$
a3 = a1 + (a2 - a1)\frac{b2 - b0}{b1 - b0}
$$</p><p>Now a2 is the quantity we are looking for: the probability that the users upvote A given they have considered C.</p><p>But this is not the support formula we derived in the <a href=2024-03-01-support-formula.md>previous note</a>! It&rsquo;s similar: it&rsquo;s the same if we assume $<code>b0=0</code>$. Unfortunately, although we can measure a1, a2, b1, and b2, we can&rsquo;t measure b0!</p><p>For that matter, what is b0? It is the probability of a user upvoting B before they considered B. But how can a user upvote something before they considered it? So it would be east to say that b0 is zero.</p><p>Unfortunately, I don&rsquo;t think it&rsquo;s so simple. B is a function of Z, and the probability of a user believing Z before seeing B is not zero.</p><p>I think that assuming B=0 is a <em>conservative</em> estimate, in that it assumes the smallest possible effect of C on A. For example, if C changes B from 99% to 1%, then no matter what the effect of B is on A, C will &ldquo;erase&rdquo; that effect. That is if B moves A from a1 to a2, C will move it almost back to a1, because.</p><p>$$
\begin{aligned}
a3 &= a1 + (a2 - a1)×\frac{b2 - b0}{b1 - b0} \
&= a1 + (a2 - a1)×\frac{b2}{b1} \
&= a1 + (a2 - a1)×\frac{.01}{.99} \
& ≈ a1
\end{aligned}
$$</p><p>However, let&rsquo;s say that b0=.5. Now instead of erasing the effect of B, C <em>reverse</em> the effect.</p><p>$$
\begin{aligned}
a3 &= a1 + (a2 - a1)×\frac{b2 - b0}{b1 - b0} \
&= a1 + (a2 - a1)×\frac{.01 - .5}{.99 - .5} \
&≈ a1 + (a2 - a1)×-1 \
\end{aligned}
$$</p><p>Plugging in the number from the first example in the first scenario from the previous note, where a1=.46, a2=.9, b1=.99, and b2=.5.</p><p>$$
\begin{aligned}
a3 &= a1 + (a2 - a1)×\frac{b2}{b1} \
&= .46 + (.9 - .46)×\frac{.01 - .50}{.99 - .50} \
&= .46 + (.9 - .46)×-1 \
&= 22%
\end{aligned}
$$</p><p>Intuitively, this makes sense to me. According to our causal graph, when W (seeing post B) causes a user to change their mind about A, it must also change their mind about Z, since W only effects A through Z. So users that changed their votes users most have believed, a priori, that Z was false, and then changed their belief given the content of B, and thus changed their vote on A.</p><p>But what about people who upvoted A <em>before</em> considering B. What did they believe about Z! We don&rsquo;t know.</p><p>If we assume that z=0 &ndash; nobody believed Z before considering B, whether or not they upvoted A, it follows that b=0 (because of the assumption that users only upvote things that they think are true, informative, and relevant). In this case, we arrive at the support formula from the <a href=2024-03-01-support-formula.md>previous note</a>.</p><p>But say we we assume most users who upvoted A (before considering B) also believed Z a priori. So the ones that changed their votes are the ones that didn&rsquo;t already know Z. This implies that Z is relevant to A: $<code>P(A \vert Z=1)</code>$ is close to 100%, and $<code>P(A \vert Z=0)</code>$ is close to 0%.</p><p>Therefore if C convinces most people to reject Z, they would also reject A. That is, both groups of people would reject A after rejecting Z: both the people who upvoted A after considering B because they thought Z was true, and those who already thought Z was true.</p></div></article></main><footer class=footer><ul class=footer-links><li><a href type=application/rss+xml target=_blank>RSS</a></li><li><a href=https://github.com/social-protocols>GitHub</a></li><li><a href=https://mas.to/@SocialProtocols>Mastodon</a></li><li><a href=https://medium.com/@socialprotocols>Medium</a></li><li><a href=https://socialprotocols.substack.com>Substack</a></li><li><a href=https://twitter.com/socialprotocols>Twitter</a></li><li><a href=https://social-protocols.zulipchat.com/join/3awvls77dbmolwlradnfmkig/>Zulip</a></li></ul></footer></div><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js//highlight.min.js></script><script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><script src=/js/math-code.js></script><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>