<!doctype html><html lang=en-us><head><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Review of the Top Note Algorithm We are considering two posts: $A$ and $B$. $B$ is a reply to $A$.
Then we are observing the following events:
$u_A := \text{the event that a vote on A is an upvote}$ $u_B := \text{analogous}$ $s_B := \text{the user was shown post B}$ $\bar{s_B} := \text{the user was not shown post B}$ $s_{B*} := \text{the user was shown the top note on B}$ $\bar{s_{B*}} := \text{the user was not shown the top note on B}$ Then we define two quantities:"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.131.0"><title>- Social Protocols</title>
<meta property="og:title" content=" - Social Protocols"><link rel=stylesheet href=/css/fonts.css media=all><link rel=stylesheet href=/css/main.css media=all><script data-goatcounter=https://socialprotocols.goatcounter.com/count async src=//gc.zgo.at/count.js></script></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo style=margin-right:10px><img src=/images/logo.svg width=50 height=50 alt=Logo>
</a><a href=/ class=nav-title>Social Protocols</a><ul class=nav-links><li><a href=/articles>Articles</a></li><li><a href=/#projects>Projects</a></li><li><a href=/research-notes>Research Notes</a></li><li><a href=/resources>Resources</a></li></ul></nav></header><main class=content role=main><article class=article><h1 class=article-title></h1><div class=article-content><h1 id=review-of-the-top-note-algorithm>Review of the Top Note Algorithm</h1><p>We are considering two posts: $A$ and $B$. $B$ is a reply to $A$.</p><p>Then we are observing the following events:</p><ul><li>$u_A := \text{the event that a vote on A is an upvote}$</li><li>$u_B := \text{analogous}$</li><li>$s_B := \text{the user was shown post B}$</li><li>$\bar{s_B} := \text{the user was not shown post B}$</li><li>$s_{B*} := \text{the user was shown the top note on B}$</li><li>$\bar{s_{B*}} := \text{the user was not shown the top note on B}$</li></ul><p>Then we define two quantities:</p><p>$$
\text{delta} = P(u_A | s_B) - P(u_A | \bar{s_B})
$$</p><p>and</p><p>$$
\text{support} = \frac{P(u_B | s_{B*})}{P(u_B | \bar{s_{B*}})}
$$</p><p>Then:</p><p>$$
P(u_A | s_B, s_{B*}) = P(u_A | \bar{s_B}) + \text{delta} \cdot \text{support}
$$</p><p>Reformulating this makes it clearer:</p><p>$$
P(u_A | \bar{s_B}) + \text{delta} \cdot \text{support} = P(u_A | s_B) \cdot \text{support} + P(u_A | \bar{s_B})(1 - \text{support})
$$</p><p>There is a problem with this formula, namely:</p><p>$$
\text{support} \in (0, \infty)
$$</p><p>Thus&mldr;</p><p>$$
P(u_A | s_B, s_{B*}) \notin [0, 1]
$$</p><p>&mldr; which is a problem because it&rsquo;s supposed to be a probability.</p><p>We can fix this by reformulating the support as a fraction, rather than a ratio:</p><p>$$
\text{support} = \frac{P(u_B | s_{B*})}{P(u_B | s_{B*}) + P(u_B | \bar{s_{B*}})}
$$</p></div></article></main><footer class=footer><ul class=footer-links><li><a href type=application/rss+xml target=_blank>RSS</a></li><li><a href=https://github.com/social-protocols>GitHub</a></li><li><a href=https://mas.to/@SocialProtocols>Mastodon</a></li><li><a href=https://medium.com/@socialprotocols>Medium</a></li><li><a href=https://socialprotocols.substack.com>Substack</a></li><li><a href=https://twitter.com/socialprotocols>Twitter</a></li><li><a href=https://social-protocols.zulipchat.com/join/3awvls77dbmolwlradnfmkig/>Zulip</a></li></ul></footer></div><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] },
    TeX: { extensions: ["AMSmath.js", "AMSsymbols.js", "noErrors.js", "noUndefined.js"] },
    messageStyle: "none"
  });
</script><script src=/js/math-code.js></script><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>